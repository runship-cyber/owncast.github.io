<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Troubleshooting #  CPU and RAM usage alerts #  If your hardware is being maxed out then your video may not be processed and delivered fast enough to keep up with the real-time requirements of live video.
Here are some steps you can try taking to resolve this.
 You may have too many quality variants defined in your configuration. Try limiting yourself to a single option, and go from there."><meta name=theme-color content="#FFFFFF"><meta property="og:title" content="Troubleshooting"><meta property="og:description" content="Troubleshooting #  CPU and RAM usage alerts #  If your hardware is being maxed out then your video may not be processed and delivered fast enough to keep up with the real-time requirements of live video.
Here are some steps you can try taking to resolve this.
 You may have too many quality variants defined in your configuration. Try limiting yourself to a single option, and go from there."><meta property="og:type" content="article"><meta property="og:url" content="http://owncast.online/docs/troubleshooting/"><meta property="og:image" content="http://owncast.online/images/logo.png"><meta property="og:site_name" content="Owncast"><title>Troubleshooting | Owncast</title><link rel=manifest href=/manifest.json><link rel=icon href=/favicon.png type=image/x-icon><link rel=stylesheet href=/book.min.408f0e36060a9beee79abdb84cfea2e8149e2d483f07e12d2b01f59ab32f2eac.css integrity="sha256-QI8ONgYKm+7nmr24TP6i6BSeLUg/B+EtKwH1mrMvLqw="><script defer src=/en.search.min.afa42c1c59fcca377961f2e14e8d96d7d80d9556a2de332227d261ae06df4903.js integrity="sha256-r6QsHFn8yjd5YfLhTo2W19gNlVai3jMiJ9JhrgbfSQM="></script></head><body><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><nav><h2 class=book-brand><a href=/><img src=/favicon.png alt=Logo><span>Owncast</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><ul><li><a href=/about/>About</a></li><li><a href=/>Docs</a><ul><li><a href=/docs/quickstart/>Quickstart</a></li><li><a href=/docs/configuration/>Configuration</a></li><li><a href=/docs/website/>Web Site + Chat</a></li><li><a href=/docs/embed/>Embedding</a></li><li><a href=/docs/api/>API Reference</a></li><li><a href=/docs/broadcasting/>Broadcasting Software</a></li><li><a href=/docs/encoding/>Encoding</a></li><li><a href=/docs/s3/>External Storage (S3)</a></li><li><a href=/docs/building/>Building from Source</a></li><li><a href=/docs/troubleshooting/ class=active>Troubleshooting</a></li></ul></li><li><a href=/docs/faq/>Frequently Asked Questions</a></li><li><a href=/posts/>Blog</a></li><li><a href=/contribute>Contribute</a></li><li><a href=/contact>Contact</a></li></ul></nav><script>(function(){var menu=document.querySelector("aside.book-menu nav");addEventListener("beforeunload",function(event){localStorage.setItem("menu.scrollTop",menu.scrollTop);});menu.scrollTop=localStorage.getItem("menu.scrollTop");})();</script></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/svg/menu.svg class=book-icon alt=Menu></label>
<strong>Troubleshooting</strong>
<label for=toc-control><img src=/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#cpu-and-ram-usage-alerts>CPU and RAM usage alerts</a></li><li><a href=#buffering-and-video-playback-issues>Buffering and video playback issues</a></li><li><a href=#slow-uploads-to-external-storage>Slow uploads to external storage</a></li><li><a href=#reducing-the-delay-between-the-viewer-and-live>Reducing the delay between the viewer and live</a></li><li><a href=#chat-is-disabled>Chat is disabled</a></li><li><a href=#misc-video-issues>Misc video issues</a></li><li><a href=#server-is-not-showing-up-in-the-directory>Server is not showing up in the directory</a></li><li><a href=#streams-without-audio-are-currently-not-supported>Streams without audio are currently not supported</a></li></ul></nav></aside></header><article class=markdown><h1 id=troubleshooting>Troubleshooting
<a class=anchor href=#troubleshooting>#</a></h1><h2 id=cpu-and-ram-usage-alerts>CPU and RAM usage alerts
<a class=anchor href=#cpu-and-ram-usage-alerts>#</a></h2><p>If your hardware is being maxed out then your video may not be processed and delivered fast enough to keep up with the real-time requirements of live video.</p><p>Here are some steps you can try taking to resolve this.</p><ol><li>You may have too many quality variants defined in your configuration. Try limiting yourself to a single option, and go from there.</li><li>Change to a <a href=/docs/encoding/#encoder-preset>faster encoder preset</a> in your configuration. If you&rsquo;re currently using <code>veryfast</code>, try <code>superfast</code>, for example.</li><li>Try reducing <a href=/docs/encoding/#how-you-configure-your-broadcasting-software-matters>the quality of the video you&rsquo;re sending to Owncast in your broadcasting software</a>.</li><li>Experiment with reducing the bitrate and framerate of your video.</li><li>If you&rsquo;ve gone down to a single variant, changed the encoder preset to the fastest, and experimented with different qualities in your broadcasting software, it&rsquo;s possible the server you&rsquo;re running Owncast is just not powerful enough for the task and you might need to try a different environment to run this on.</li></ol><p>In general, the easiest way to save CPU is to decrease the input size, decrease the output size, or both.</p><h2 id=buffering-and-video-playback-issues>Buffering and video playback issues
<a class=anchor href=#buffering-and-video-playback-issues>#</a></h2><p>Many things can be responsible for buffering and issues with the video playback. Here are some things to look into.</p><ol><li>Make sure your hardware is not throwing errors as detailed above.</li><li>Make sure your broadcasting computer is broadcasting live video reliably. If your own computer or network connection is having a hard time getting video to the internet then viewers will be stuck in a buffering state. Reduce the bitrate in your broadcasting software on your computer or mobile device if needed.</li><li>Try increasing the values for <code>chunkLengthInSeconds</code> and <code>maxNumberInPlaylist</code> in the <a href=/docs/configuration>config file</a>. This will start the user further behind live but give the client more playable video before it gets stuck waiting for the live edge.</li><li>Change your video <a href=/docs/configuration/#video-quality>stream quality settings</a> to a <a href=/docs/encoding/#encoder-preset>faster preset</a>.</li><li>Reduce your <a href=/docs/configuration/#video-quality>stream quality settings</a> to a single variant and a lower <a href=/docs/encoding/#bitrate>bitrate</a>. Experiment with increasing the bitrate and adding another optional stream quality once you find settings that work for you.</li><li>If you are using external storage, make sure you&rsquo;re able to upload to this storage service fast enough. See below.</li></ol><p>To gain some insight into how your stream is performing for people, put your stream URL (https://yourserver/hls/stream.m3u8) into <a href=https://hlsanalyzer.com/>HLS Analyzer</a> to get a nice overview. You can see any errors or warnings from the end user&rsquo;s point of view by looking at its results.</p><h2 id=slow-uploads-to-external-storage>Slow uploads to external storage
<a class=anchor href=#slow-uploads-to-external-storage>#</a></h2><p>If you have a slow upload connection, or are uploading to an external storage service that is too far away, or not optimized for fast uploads, you may run into an issue where it takes too long to get the video segments uploaded, ultimately not making them available fast enough for them to be used.</p><ol><li>Determine if there&rsquo;s another endpoint for your storage service that might be geographically closer to you.</li><li>Use a storage service that&rsquo;s as close (physically and logically) to where your Owncast instance is. For example if if you&rsquo;re on an AWS machine, use a S3 bucket in the same region. If you&rsquo;re on Digital Ocean, try DO Spaces. But maybe don&rsquo;t use DO Spaces if you&rsquo;re on a Linode machine, use Linode Object Storage instead. Run owncast with <code>--enableVerboseLogging</code> to see if you get any slow upload warnings.</li><li>Try to increase your upload speed from your server provider.</li><li>Find out if your storage service offers something like <a href=https://docs.aws.amazon.com/AmazonS3/latest/dev/transfer-acceleration.html>AWS&rsquo;s Transfer Acceleration</a> to (possibly) try to increase the speed of uploads.</li><li>Reduce the quality of your video so the video segments are smaller and will take less time to upload. See the above tips such as changing the encoder preset and reducing the bitrate or framerate.</li></ol><h2 id=reducing-the-delay-between-the-viewer-and-live>Reducing the delay between the viewer and live
<a class=anchor href=#reducing-the-delay-between-the-viewer-and-live>#</a></h2><p>Try decreasing the values for <code>chunkLengthInSeconds</code> and <code>maxNumberInPlaylist</code> in the <a href=/docs/configuration>config file</a>. This will keep the user closer to live, but give the client less playable segments to work with, leaving less room for any network blips. In general the viewer will be approximately <code>chunkLengthInSeconds</code> * <code>maxNumberInPlaylist</code> seconds behind live. If you have a machine that is able to process video quickly you may be able to get down to 8-10 seconds, but with little room for error.</p><p>It&rsquo;s up to you to decide you want lower delays over less reliability or a more reliable stream with additional delay.</p><h2 id=chat-is-disabled>Chat is disabled
<a class=anchor href=#chat-is-disabled>#</a></h2><p>The chat is only enabled when a stream is active. This is to stop drive-by spammy chat messages by people when no stream is taking place.</p><p>If you&rsquo;re using nginx (or possibly other web proxies) in front of your Owncast instance make sure it is configured properly to support websockets. By default it does not pass along the websocket properly. Please visit <a href=https://nginx.org/en/docs/http/websocket.html>the nginx documentation</a> to make sure websocket support is configured properly to support Owncast chat.</p><h2 id=misc-video-issues>Misc video issues
<a class=anchor href=#misc-video-issues>#</a></h2><p>If you&rsquo;re running into random video stability issues make sure you&rsquo;re running a supported version of ffmpeg. <a href=https://ffmpeg.org/download.html>Download ffmpeg 4.1.5 or above</a>.
As an aside, ffmpeg installed via Snap packages do not work due to the sandboxing of Snap distributed software.</p><h2 id=server-is-not-showing-up-in-the-directory>Server is not showing up in the directory
<a class=anchor href=#server-is-not-showing-up-in-the-directory>#</a></h2><p>The directory is new, and not something we&rsquo;re pushing heavily at the moment, but we&rsquo;re glad you want to be listed in it! There are a number of things you might want to look at.</p><ol><li>It&rsquo;s opt-in, so make sure you follow the <a href=/docs/configuration/#owncast-directory>configuration directions</a> to enable the directory for your server.</li><li>You may want to run your server with <code>owncast --enableVerboseLogging</code> to see what errors show up.</li><li>If you used to be listed, but no longer show up make sure you have a <code>.yp.key</code> file in your Owncast directory. This file identifies your server to the directory.</li><li>If you recently changed the URL of your server delete the <code>.yp.key</code> file to allow your server to re-register with the new URL.</li><li>If you lose the above key file, or there&rsquo;s some other issue that&rsquo;s causing you not to be listed <a href=https://github.com/owncast/owncast/issues>please file a GitHub issue</a> so we can reset your registration with the directory.</li></ol><span class=version-support>Owncast directory was first supported in <a href=https://github.com/owncast/owncast/releases/tag/v0.0.3>Owncast 0.0.3</a>.</span><h2 id=streams-without-audio-are-currently-not-supported>Streams without audio are currently not supported
<a class=anchor href=#streams-without-audio-are-currently-not-supported>#</a></h2><p>If you&rsquo;re streaming content that has no audio component (such as a camera with no microphone, for example) you may run into issues. You&rsquo;re only likely to run into this if you&rsquo;re building a stream manually through something like ffmpeg. And in this case you can insert an audio stream that&rsquo;s empty to resolve the issue.</p><p>An example:<div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>ffmpeg -input_format h264 -f video4linux2 -s 1920x1080 -i /dev/video0 -f lavfi -i anullsrc -c:v copy -c:a aac -shortest -f flv rtmp://192.168.0.10/live/abc123</code></pre></div></p></article><footer class=book-footer><div class="flex flex-wrap justify-between"><div><a class="flex align-center" href=https://github.com/owncast/owncast.github.io/edit/master/content//docs/troubleshooting.md target=_blank rel=noopener><img src=/svg/edit.svg class=book-icon alt=Edit>
<span>Edit this page</span></a></div></div></footer><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><nav id=TableOfContents><ul><li><a href=#cpu-and-ram-usage-alerts>CPU and RAM usage alerts</a></li><li><a href=#buffering-and-video-playback-issues>Buffering and video playback issues</a></li><li><a href=#slow-uploads-to-external-storage>Slow uploads to external storage</a></li><li><a href=#reducing-the-delay-between-the-viewer-and-live>Reducing the delay between the viewer and live</a></li><li><a href=#chat-is-disabled>Chat is disabled</a></li><li><a href=#misc-video-issues>Misc video issues</a></li><li><a href=#server-is-not-showing-up-in-the-directory>Server is not showing up in the directory</a></li><li><a href=#streams-without-audio-are-currently-not-supported>Streams without audio are currently not supported</a></li></ul></nav></aside></main></body></html>